@model Cinema.Models.FilmsListViewModel

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<form method="get">
    <div class="form-inline">
        <label class="control-label">Жанр: </label>
        @Html.DropDownList("genre", Model.Genres  as SelectList,
                    htmlAttributes: new { @class = "form-control" })
        <input type="submit" value="Выбрать" class="btn btn-default" />
    </div>
</form>
<table class="table">
    <tr>
        <th>  Название </th>
        <th>  Страна </th>
        <th> Год </th>
        <th> Жанр </th>
        <th> Время </th>
        <th></th>
    </tr>

@foreach (var item in Model.Films) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Production)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Year)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Genre.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Duration)
        </td>
             <td><a href="/Films/Seance/@item.Id" class="btn btn-default">Купить билет</a></td> 
        <td>
            @Html.ActionLink("Edit", "Edit", new { id=item.Id }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.Id })
            </td>
    </tr>
}

</table>
